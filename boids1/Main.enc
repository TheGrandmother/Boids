import Random
import Util
import Tuples

class Main {

  def main(args: [String]): void {
    print ("Hi! {}", |args|)
  }
}

passive class BoidData {
  location: Coord
  velocity: Vector2D
  acceleration: Vector2D
  r: real
  maxforce: real -- Maximum steering force
  maxspeed: real -- Maximum speed

  def init(loc: Coord): void {
    this.location = loc;
    this.acceleration = new Vector2D(0.0, 0.0);

    let angle = random(6.28) ; -- ?
    this.velocity = new Vector2D(cos(angle), sin(angle));
    this.r = 2.0;
    this.maxspeed = 2.0;
    this.maxforce = 0.03;
  }
}


class Boid {
  id: int
  data: BoidData

  def init(id: int, loc: Coord): void {
    this.id = id;
    this.data = new BoidData(loc);
  }

  def separation(boids: [BoidData]): void {
    let desiredseparation = 25.0;
    let steer = new Vector3D(0.0, 0.0, 0.0);
    let count = 0;

    -- For every boid in the system, check if it's too close
    for other in boids {
      let dist = this.data.location.distance(other.location);
    --     ()
    }
  }
}
